<!DOCTYPE html>
<html>
<head>
    <title>Web Search</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Web Search</h1>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="alert alert-warning">{{ messages[0] }}</div>
          {% endif %}
        {% endwith %}

        <!-- Search Form -->
        <form method="POST" action="{{ url_for('routes.web_search') }}">
            <div class="mb-3">
                <label for="query" class="form-label">Enter your search query</label>
                <input type="text" class="form-control" name="query" id="query" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-primary">Search</button>
        </form>

        <!-- Display Search Results -->
        {% if web_pages %}
        <h3 class="mt-4">Search Results for "{{ query }}"</h3>
        <ul class="list-group">
            {% for page in web_pages %}
            <li class="list-group-item">
                <h5><a href="{{ page.url }}" target="_blank">{{ page.name }}</a></h5>
                <p>{{ page.snippet }}</p>
            </li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>
</body>
</html>
